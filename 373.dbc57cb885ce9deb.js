"use strict";(self.webpackChunkangular_test=self.webpackChunkangular_test||[]).push([[373],{3373:(F,u,n)=>{n.r(u),n.d(u,{AuthModule:()=>T});var d=n(7969),m=n(9808),t=n(5e3);let p=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-register"]],decls:2,vars:0,template:function(e,s){1&e&&(t.TgZ(0,"p"),t._uU(1,"register works!"),t.qZA())},styles:[""]}),o})();var r=n(3075),f=n(2542),a=n(1083),h=n(5804),l=n(9224),g=n(7322),v=n(7531),C=n(7423);function y(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Username is required "),t.qZA())}function Z(o,i){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Password is required "),t.qZA())}const A=[{path:"",redirectTo:"login"},{path:"login",component:(()=>{class o{constructor(e,s,c,I){this.fb=e,this.authService=s,this.router=c,this.utilityService=I,this.loginForm=this.fb.group({username:new r.NI("",[r.kI.required]),password:new r.NI("",[r.kI.required])})}ngOnInit(){}onSubmit(){this.authService.login("/auth/login",this.loginForm.value).subscribe(e=>{sessionStorage.setItem("userData",JSON.stringify(e)),sessionStorage.setItem("token",e.token),this.authService.loggedIn.next(!0),this.router.navigate(["/main"]),this.utilityService.openSnackbar(`You are logged in as <strong>\n          ${e.firstName+" "+e.lastName}</strong>`)})}get username(){return this.loginForm.controls.username}get password(){return this.loginForm.controls.password}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(r.qu),t.Y36(f.e),t.Y36(a.F0),t.Y36(h.t))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-login"]],decls:16,vars:4,consts:[[1,"signin-content"],[1,"row","justify-content-center"],[1,"col-md-4"],[3,"formGroup","ngSubmit"],[1,"full-width-input"],["matInput","","placeholder","User","autocomplete","off","formControlName","username"],[4,"ngIf"],["matInput","","type","password","autocomplete","off","placeholder","Password","formControlName","password","required",""],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(e,s){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-card")(4,"mat-card-content")(5,"form",3),t.NdJ("ngSubmit",function(){return s.onSubmit()}),t.TgZ(6,"p"),t._uU(7,"Please login to continue"),t.qZA(),t.TgZ(8,"mat-form-field",4),t._UZ(9,"input",5),t.YNc(10,y,2,0,"mat-error",6),t.qZA(),t.TgZ(11,"mat-form-field",4),t._UZ(12,"input",7),t.YNc(13,Z,2,0,"mat-error",6),t.qZA(),t.TgZ(14,"button",8),t._uU(15,"Login"),t.qZA()()()()()()()),2&e&&(t.xp6(5),t.Q6J("formGroup",s.loginForm),t.xp6(5),t.Q6J("ngIf",s.username.hasError("required")),t.xp6(3),t.Q6J("ngIf",s.password.hasError("required")),t.xp6(1),t.Q6J("disabled",s.loginForm.invalid))},directives:[l.a8,l.dn,r._Y,r.JL,r.sg,g.KE,v.Nt,r.Fj,r.JJ,r.u,m.O5,g.TO,r.Q7,C.lW],styles:["mat-card[_ngcontent-%COMP%]{text-align:center}.full-width-input[_ngcontent-%COMP%]{width:100%}"]}),o})()},{path:"register",component:p}];let S=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[a.Bz.forChild(A)],a.Bz]}),o})(),T=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[m.ez,S,d.m]]}),o})()}}]);